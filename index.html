<!DOCTYPE html>
<meta charset="utf-8">

<!-- Load d3.js -->
<head>
    <title>Baltimore Redlining</title>
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
</head>

<body>
    <!--Start Banner Area -->
	<section class="home_banner">
		<div class="banner_inner d-flex align-items-center">
			<div class="container" >
				<div class="banner_content text-center">
					<h3 class="text-uppercase">HCI Project 2</h3>
					<h1 class="text-uppercase">Baltimore Redlining and its Lasting Impact</h1>
					<h5 class="text-uppercase">Liam Creedon, Nanxi Ye, Kavan Bansal</h5>
					<div class="col-lg-5">
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- End Banner Area-->


	<!-- Start Project Details Area -->
	<section class="portfolio_details_area section_gap">
        	<div class="container">
        		<div class="portfolio_details_inner">
                		<div class="row">
                   			<div class="offset-lg-1 col-lg-5">
                        			<div class="portfolio_right_text mt-30">
                            				<h3 class="text-uppercase">REDLINING</h3>
                            					<p>
									In June of 1933, a government sponsored corporation was created as a part of the New Deal named the Home Owner's Loan Corporation (HOLC). 
									The goal of this corporation was to carry out the provisions of the Home Owners' Loan Act, that aimed to provide relief to homeowners unable to
									finance their mortgages. Redlining is the method this organization employed to determine neighborhoods across US cities which were deemed safe or
									hazardous for investment, using grades 'A' through 'D'.
                            					</br>
									The unfortunate reality of this process is that in practically all cases, neighborhoods receiving the lowest grade of 'D', and subsequently outlined and shaded
									in red on the map, were largely populated with racial and ethnic minorities. This systemic disinvestment in these neighborhoods furthered existing
									problems, notably racially segregating cities even more, and making it much more difficult or expensive for minorities to secure a loan and buy a home.
								</p>
							   	<p>
							    	</br>
							    	</p>
							<h3 class="text-uppercase">THE DATA</h3>
							    	<p>
									Multiple sources of data were used in this project to perform our analysis. To begin, we leveraged census data from the 2010s and 2020s overlayed onto the original HOLC map from
									<a href="https://dsl.richmond.edu/panorama/redlining/#loc=11/39.293/-76.836&city=baltimore-md"> Mapping Inequality</a>. For other data points, we utilized the
									<a href="https://vital-signs-bniajfi.hub.arcgis.com/"> Vital Signs Open Data Portal</a> offered by the Baltimore Neighborhood Indicators Alliance.
								</p>
                        			</div>
              	    			</div>
				</div>
	    		</div>
		</div>
	</section>
	<!-- Start Economic Area -->

	<!-- End Economic Area -->


	<!-- Start Housing Area -->

	<!-- End Housing Area -->


	<!-- Start Health Area -->

	<!-- End Health Area -->


	<!-- Start Hopkins Area -->

	<!-- End Hopkins Area -->


	<!-- Start Analysis Area -->

	<!-- End Analysis Area -->
    
</body>

    <svg width="1000" height="1000" id="svg1"></svg>
    <!-- <svg width="1000" height="1000" id="svg2"></svg> -->
    <script>
        // create svg element
        var svg1 = d3.select("#svg1");
        let width = +svg1.attr("width");
        let height = +svg1.attr("height");
    
        // set color scale
        let colorScale = d3.scaleThreshold()
        .domain(["A", "B", "C", "D"])
        .range(["#FFFFFF", "#83a85d", "#73aab1", "#d0cd71", "#c39598"]);
        // somehow the first color in range([]) does not show on map
    
        // load data from github repo
        d3.queue()
        .defer(d3.json, "https://raw.githubusercontent.com/maxye-frz/hciProject2/main/MDBaltimore1937.geojson")
        .await(ready1);
    
        // function ready
        function ready1(error, topo) {
            // get appropriate projection
            let projection1 = d3.geoMercator().fitSize([width, height], topo);
                    
            svg1.append("g")
            .selectAll("path")
            .data(topo.features)
            .enter()
            .append("path")
            //draw polygons
            .attr("d", d3.geoPath().projection(projection1))
            .style("stroke", "#5b6363")
            .style("stroke-width", 1)
            .attr("fill", function(d) {
                return colorScale(d.properties.holc_grade);
            })
        }

        // var svg2 = d3.select("#svg2");
        // let width = +svg2.attr("width");
        // let height = +svg2.attr("height");
    
        // // set color scale
        // let colorScale = d3.scaleThreshold()
        // .domain(["A", "B", "C", "D"])
        // .range(["#FFFFFF", "#83a85d", "#73aab1", "#d0cd71", "#c39598"]);
        // // somehow the first color in range([]) does not show on map
    
        // // load data from github repo
        // d3.queue()
        // .defer(d3.json, "https://raw.githubusercontent.com/maxye-frz/hciProject2/main/Maryland_Baltimore_City_Neighborhoods.geojson")
        // .await(ready2);
        // // function ready
        // function ready2(error, topo) {
        //     // get appropriate projection
        //     let projection2 = d3.geoMercator().fitSize([width, height], topo);
        //     svg2.append("g")
        //     .selectAll("path")
        //     .data(topo.features)
        //     .enter()
        //     .append("path")
        //     //draw polygons
        //     .attr("d", d3.geoPath().projection(projection2))
        //     .style("stroke", "#5b6363")
        //     .style("stroke-width", 1)
        //     .attr("fill", function(d) {
        //         return colorScale(d.properties.holc_grade);
        //     })
        // }
    </script>
